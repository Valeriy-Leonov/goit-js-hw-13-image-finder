{"version":3,"sources":["webpack:///./index.js"],"names":["debounce","require","page","globSerchQuery","container","document","querySelector","fetchData","searchQuery","fetch","then","response","status","json","data","console","log","alert","text","innerHTML","hits","length","allContent","item","thumbUp","likes","visibility","views","comment","comments","cloud_download","downloads","webformatURL","window","loadMore","addEventListener","event","target","value"],"mappings":"6kCAEA,IAAMA,EAAWC,EAAQ,QAIrBC,EAAO,EACPC,EAAiB,GAEfC,EAAYC,SAASC,cAAc,YAYzC,SAASC,EAAUC,GACbL,IAAmBK,EACrBN,GAAQ,EAERA,EAAO,EAETC,EAAiBK,EAGjBC,MAlBA,sEAA6EN,EAA7E,SAAoGD,EAApG,uDAmBGQ,MAAK,SAAAC,GAAQ,OAAwB,MAApBA,EAASC,OAAiBD,EAASE,OAASF,KAC7DD,MAAK,SAAAI,GAEF,GADFC,QAAQC,IAAI,aAAcF,GACJ,MAAhBA,EAAKF,OACPK,gBAAM,CACdC,KAAM,2DAEAd,EAAUe,UAAY,QACf,GAAIL,EAAKM,KAAKC,OAAQ,CAE3B,IADA,IACA,EADIC,EAAa,GACjB,IAAiBR,EAAKM,QAAtB,aAA4B,KAAnBG,EAAmB,QACpBC,EAAU,+DAA+DD,EAAKE,MAAvE,OACPC,EAAa,kEAAkEH,EAAKI,MAA1E,OACVC,EAAU,+DAA+DL,EAAKM,SAAvE,OACPC,EAAiB,qEAAqEP,EAAKQ,UAA7E,OAGpBT,GAFgB,yCAAyCC,EAAKS,aAAjD,+DACKR,EAAUE,EAAaE,EAAUE,EADtC,oBAKfR,GAAc,2EAGdlB,EAAUe,UAAYG,OAExBL,gBAAM,CACZC,KAAM,2DAEAd,EAAUe,UAAY,MAxC9Bc,OAAOC,SAJP,WACE3B,EAAUJ,IAiDEE,SAASC,cAAc,SAE/B6B,iBAAiB,QAASnC,GAAS,SAAUoC,GACjD7B,EAAU6B,EAAMC,OAAOC,SACrB,Q","file":"main.fa631d8905d56e04256b.js","sourcesContent":["import './styles.css';\nimport { alert, defaultModules } from '@pnotify/core';\nconst debounce = require('lodash.debounce');\n\nconst apiKey = '19680039-e1175c59e60ae330767a22687';\n\nlet page = 1;\nlet globSerchQuery = '';\n\nconst container = document.querySelector('.gallery');\n\nfunction getUrl() {\n  return `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${globSerchQuery}&page=${page}&per_page=12&key=${apiKey}`;\n}\n\nfunction loadMore() {\n  fetchData(globSerchQuery);\n}\n\nwindow.loadMore = loadMore;\n\nfunction fetchData(searchQuery) {\n  if (globSerchQuery === searchQuery) {\n    page += 1;\n  } else {\n    page = 1;\n  }\n  globSerchQuery = searchQuery;\n  const url = getUrl();\n  \n  fetch(url)\n    .then(response => response.status === 200 ? response.json() : response)\n    .then(data => {\n      console.log('test data!', data);\n        if (data.status === 404) {\n          alert({\n  text: 'Zero matches found. Plese enter a more specific query!'\n        });\n        container.innerHTML = '';\n        } else if (data.hits.length) {\n          let allContent = '';\n          for (let item of data.hits) {\n            const thumbUp = `<p class=\"stats-item\"><i class=\"material-icons\">thumb_up</i>${item.likes}</p>`;\n            const visibility = ` <p class=\"stats-item\"><i class=\"material-icons\">visibility</i>${item.views}</p>`;\n            const comment = ` <p class=\"stats-item\"><i class=\"material-icons\">comment</i>${item.comments}</p>`;\n            const cloud_download = `<p class=\"stats-item\"><i class=\"material-icons\">cloud_download</i>${item.downloads}</p>`;\n            const content = `<li><div class=\"photo-card\"><img src=\"${item.webformatURL}\" alt=\"\" /><div class=\"stats\">\n                            ${thumbUp}${visibility}${comment}${cloud_download}</div></div></li>`;\n            allContent += content;\n          }\n\n          allContent += `<button class=\"load-more\" onclick=\"window.loadMore()\">Load More</button>`\n          \n\n          container.innerHTML = allContent;\n      } else { \n        alert({\n  text: 'Zero matches found. Plese enter a more specific query!'\n        });\n        container.innerHTML = '';\n      }\n  });\n};\n\n  \nconst input = document.querySelector('input');\n\ninput.addEventListener('input', debounce(function (event) {\n  fetchData(event.target.value);\n }, 500))\n\n\n\n\n"],"sourceRoot":""}